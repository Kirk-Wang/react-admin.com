<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>翻译 · React-Admin</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="React-admin 界面使用英语作为默认语言。但是它也支持任何其他语言，归功于[polyglot.js]（http://airbnb.io/polyglot.js/）库。"/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="翻译 · React-Admin"/><meta property="og:type" content="website"/><meta property="og:url" content="//index.html"/><meta property="og:description" content="React-admin 界面使用英语作为默认语言。但是它也支持任何其他语言，归功于[polyglot.js]（http://airbnb.io/polyglot.js/）库。"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-CN"><img class="logo" src="/img/icon_common.png" alt="React-Admin"/><h2 class="headerTitleWithLogo">React-Admin</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/zh-CN/intro.html" target="_self">Doc</a></li><li class=""><a target="_self"></a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/translation.html">English</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Knowledge</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Knowledge</h3><ul><li class="navListItem"><a class="navItem" href="/docs/zh-CN/intro.html">简介</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorial.html">十分钟教程</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/data-providers.html">数据提供程序</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/admin-component.html">Admin 组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/resource-component.html">Resource 组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/list-view-component.html">List 视图组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/show-view-component.html">Show 视图组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/field-components.html">Field 组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/creat-edit-view-components.html">Create 和 Edit 视图组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/input-components.html">Input 组件</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/authentication.html">身份验证</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/authorization.html">授权</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/theming.html">主题</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/actions.html">编写 Action</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/translation.html">翻译</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/custom-app.html">在其它 App 中包含 Admin</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/reference.html">引用</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/faq.html">常见问题</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/ecosystem.html">生态</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">翻译</h1></header><article><div><span><p>React-admin 界面使用英语作为默认语言。但是它也支持任何其他语言，归功于[polyglot.js]（<a href="http://airbnb.io/polyglot.js/">http://airbnb.io/polyglot.js/</a>）库。</p>
<h2><a class="anchor" aria-hidden="true" id="改变区域设置"></a><a href="#改变区域设置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>改变区域设置</h2>
<p>如果要使用其他语言环境，则必须安装第三方软件包。 例如，要将界面更改为法语，您必须安装<code>ra-language-french</code> npm包，然后指示 react-admin 使用它。</p>
<p><code>&lt;Admin&gt;</code> 组件有一个 <code>i18nProvider</code> 属性，它接受一个具有以下签名的函数：</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> i18nProvider = <span class="hljs-function"><span class="hljs-params">locale</span> =&gt;</span> messages;
</code></pre>
<p><code>messages</code>应该是界面和资源名称的字典（有关字典格式的详细信息，请参阅下面的<a href="#translation-messages">翻译消息部分</a>）。</p>
<p>React-admin 在启动时调用 <code>i18nProvider</code>，将 Admin 组件上指定的语言 <code>local</code> 作为参数传递。 Provide 必须同步返回消息。 每当语言环境发生变化时，React-admin 也会调用 i18nProvider，并将新语言环境作为参数传递。 因此，多语言界面的最简单示例如下：</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Admin, Resource } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-admin'</span>;
<span class="hljs-keyword">import</span> frenchMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-french'</span>;
<span class="hljs-keyword">import</span> englishMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-english'</span>;

<span class="hljs-keyword">const</span> messages = {
    <span class="hljs-attr">fr</span>: frenchMessages,
    <span class="hljs-attr">en</span>: englishMessages,
}
<span class="hljs-keyword">const</span> i18nProvider = <span class="hljs-function"><span class="hljs-params">locale</span> =&gt;</span> messages[locale];

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">i18nProvider</span>=<span class="hljs-string">{i18nProvider}</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">Admin</span>&gt;</span></span>
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
<p><code>i18nProvider</code>可能会返回一个区域设置更改调用的Promise（初始调用除外，应用程序启动时）。 这对于仅加载所需的区域设置非常有用。 例如：</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">import</span> englishMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'../en.js'</span>;

<span class="hljs-keyword">const</span> asyncMessages = {
    <span class="hljs-attr">fr</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../i18n/fr.js'</span>).then(<span class="hljs-function"><span class="hljs-params">messages</span> =&gt;</span> messages.default),
    <span class="hljs-attr">it</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../i18n/it.js'</span>).then(<span class="hljs-function"><span class="hljs-params">messages</span> =&gt;</span> messages.default),
};

<span class="hljs-keyword">const</span> i18nProvider = <span class="hljs-function"><span class="hljs-params">locale</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (locale === <span class="hljs-string">'en'</span>) {
        <span class="hljs-comment">// initial call, must return synchronously</span>
        <span class="hljs-keyword">return</span> englishMessages;
    }
    <span class="hljs-comment">// change of locale after initial call returns a promise</span>
    <span class="hljs-keyword">return</span> asyncMessages[params.locale]();
}

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">i18nProvider</span>=<span class="hljs-string">{i18nProvider}</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">Admin</span>&gt;</span></span>
);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="可用区域设置"></a><a href="#可用区域设置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>可用区域设置</h2>
<p>您可以找到以下语言的翻译包：</p>
<ul>
<li>Chinese (<code>cn</code>): <a href="https://github.com/chen4w/ra-language-chinese">chen4w/ra-language-chinese</a></li>
<li>Czech (<code>cs</code>): <a href="https://github.com/binao/ra-language-czech">binao/ra-language-czech</a></li>
<li>Dutch (<code>nl</code>): <a href="https://github.com/pimschaaf/ra-language-dutch">pimschaaf/ra-language-dutch</a></li>
<li>English (<code>en</code>): <a href="https://github.com/marmelab/react-admin/tree/master/packages/ra-language-english">marmelab/ra-language-english</a></li>
<li>French (<code>fr</code>): <a href="https://github.com/marmelab/react-admin/tree/master/packages/ra-language-french">marmelab/ra-language-french</a></li>
<li>German (<code>de</code>): <a href="https://github.com/greenbananaCH/ra-language-german">greenbananaCH/ra-language-german</a></li>
<li>Indonesian (<code>id</code>): <a href="https://github.com/ronadi/ra-language-indonesian">ronadi/ra-language-indonesian</a></li>
<li>Italian (<code>it</code>): <a href="https://github.com/stefsava/ra-language-italian">stefsava/ra-language-italian</a></li>
<li>Polish (<code>pl</code>): <a href="https://github.com/tskorupka/ra-language-polish">tskorupka/ra-language-polish</a></li>
<li>Portuguese (<code>pt</code>): <a href="https://github.com/marquesgabriel/ra-language-portuguese">marquesgabriel/ra-language-portuguese</a></li>
<li>Russian (<code>ru</code>): <a href="https://github.com/klucherev/ra-language-russian">klucherev/ra-language-russian</a></li>
<li>Slovak (<code>sk</code>): <a href="https://github.com/zavadpe/ra-language-slovak">zavadpe/ra-language-slovak</a></li>
<li>Spanish (<code>es</code>): <a href="https://github.com/BlackBoxVision/ra-language-spanish">blackboxvision/ra-language-spanish</a></li>
<li>Ukrainian (<code>ua</code>): <a href="https://github.com/koresar/ra-language-ukrainian">koresar/ra-language-ukrainian</a></li>
</ul>
<p>之前版本的 react-admin，名为 admin-on-rest，已翻译成以下语言：</p>
<ul>
<li>Arabic ( <code>ع</code> ): <a href="https://github.com/aymendhaya/aor-language-arabic">aymendhaya/aor-language-arabic</a></li>
<li>Chinese (<code>cn</code>): <a href="https://github.com/downup2u/aor-language-chinese">downup2u/aor-language-chinese</a></li>
<li>Chinese (Traditional) (<code>cht</code>): <a href="https://github.com/leesei/aor-language-chinese-traditional">leesei/aor-language-chinese-traditional</a></li>
<li>Croatian (<code>hr</code>): <a href="https://github.com/ariskemper/aor-language-croatian">ariskemper/aor-language-croatian</a></li>
<li>Czech (<code>cs</code>): <a href="https://github.com/magikMaker/aor-language-czech">magikMaker/aor-language-czech</a></li>
<li>Danish (<code>da</code>): <a href="https://github.com/SSA111/aor-language-danish">SSA111/aor-language-danish</a></li>
<li>Farsi (<code>fa</code>): <a href="https://github.com/hamidfzm/aor-language-farsi">hamidfzm/aor-language-farsi</a></li>
<li>Finnish (<code>fi</code>): <a href="https://github.com/Joni-Aaltonen/aor-language-finnish">Joni-Aaltonen/aor-language-finnish</a></li>
<li>German (<code>de</code>): <a href="https://github.com/der-On/aor-language-german">der-On/aor-language-german</a></li>
<li>Greek (<code>el</code>): <a href="https://github.com/zifnab87/aor-language-greek">zifnab87/aor-language-greek</a></li>
<li>Hebrew (<code>he</code>): <a href="https://github.com/motro/aor-language-hebrew">motro/aor-language-hebrew</a></li>
<li>Hungarian (<code>hu</code>): <a href="https://github.com/s33m4nn/aor-language-hungarian">s33m4nn/aor-language-hungarian</a></li>
<li>Indonesian (<code>id</code>): <a href="https://github.com/ronadi/aor-language-indonesian">ronadi/aor-language-indonesian</a></li>
<li>Japanese (<code>ja</code>): <a href="https://github.com/kuma-guy/aor-language-japanese">kuma-guy/aor-language-japanese</a></li>
<li>Norwegian (<code>nb</code>): <a href="https://github.com/zeusbaba/aor-language-norwegian">zeusbaba/aor-language-norwegian</a></li>
<li>Russian (<code>ru</code>): <a href="https://github.com/cytomich/aor-language-russian">cytomich/aor-language-russian</a></li>
<li>Slovenian (<code>sl</code>): <a href="https://github.com/ariskemper/aor-language-slovenian">ariskemper/aor-language-slovenian</a></li>
<li>Spanish (<code>es</code>): <a href="https://github.com/BlackBoxVision/aor-language-spanish">blackboxvision/aor-language-spanish</a></li>
<li>Swedish (<code>sv</code>): <a href="https://github.com/StefanWallin/aor-language-swedish">StefanWallin/aor-language-swedish</a></li>
<li>Thai (<code>th</code>): <a href="https://github.com/liverbool/aor-language-thai">liverbool/aor-language-thai</a></li>
<li>Turkish (<code>tr</code>): <a href="https://github.com/ismailbaskin/aor-language-turkish">ismailbaskin/aor-language-turkish</a></li>
<li>Ukrainian (<code>uk</code>): <a href="https://github.com/vitivs/aor-language-ukrainian">vitivs/aor-language-ukrainian</a></li>
<li>Vietnamese (<code>vi</code>): <a href="https://github.com/kimkha/aor-language-vietnamese">kimkha/aor-language-vietnamese</a></li>
</ul>
<p>这些软件包不能与 react-admin 直接互操作，但升级很简单; 将 root key 从 “aor” 重命名为 “ra”。 我们邀请上面列出的软件包的作者使用不同的软件包名称为 react-admin 重新发布他们的翻译。</p>
<p>如果您想提供新的翻译，请随时提交 pr 以更新<a href="https://github.com/marmelab/react-admin/blob/master/docs/Translation.md">此页面</a>，并附带指向您软件包的链接。</p>
<h2><a class="anchor" aria-hidden="true" id="在运行时更改区域设置"></a><a href="#在运行时更改区域设置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>在运行时更改区域设置</h2>
<p>如果要在运行时提供更改语言环境的功能，则必须提供所有可能翻译的 messages：</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Admin, Resource } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-admin'</span>;
<span class="hljs-keyword">import</span> englishMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-english'</span>;
<span class="hljs-keyword">import</span> frenchMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-french'</span>;

<span class="hljs-keyword">const</span> messages = {
    <span class="hljs-attr">fr</span>: frenchMessages,
    <span class="hljs-attr">en</span>: englishMessages,
};
<span class="hljs-keyword">const</span> i18nProvider = <span class="hljs-function"><span class="hljs-params">locale</span> =&gt;</span> messages[locale];

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">i18nProvider</span>=<span class="hljs-string">{i18nProvider}</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">Admin</span>&gt;</span></span>
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
<p>然后，使用 <code>changeLocale&lt;/ code&gt; 动作创建者 dispatch &lt;code&gt;CHANGE_LOCALE</code> action。 例如，以下组件在英语和法语之间切换语言：</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { connect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">'@material-ui/core/Button'</span>;
<span class="hljs-keyword">import</span> { changeLocale <span class="hljs-keyword">as</span> changeLocaleAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-admin'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LocaleSwitcher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
    switchToFrench = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.props.changeLocale(<span class="hljs-string">'fr'</span>);
    switchToEnglish = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.props.changeLocale(<span class="hljs-string">'en'</span>);

    render() {
        <span class="hljs-keyword">const</span> { changeLocale } = <span class="hljs-keyword">this</span>.props;
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Language<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.switchToEnglish}</span>&gt;</span>en<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.switchToFrench}</span>&gt;</span>fr<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
        );
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> connect(<span class="hljs-literal">undefined</span>, { <span class="hljs-attr">changeLocale</span>: changeLocaleAction })(LocaleSwitcher);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="使用浏览器区域设置"></a><a href="#使用浏览器区域设置" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用浏览器区域设置</h2>
<p>React-admin 提供一个名为 <code>resolveBrowserLocale()</code> 的帮助器函数，它帮助您根据用户浏览器中配置的区域设置来引入动态区域设置属性。 要使用它，只需将函数传递作为 <code>locale</code> 属性。</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Admin, Resource, resolveBrowserLocale } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-admin'</span>;
<span class="hljs-keyword">import</span> englishMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-english'</span>;
<span class="hljs-keyword">import</span> frenchMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-french'</span>;

<span class="hljs-keyword">const</span> messages = {
    <span class="hljs-attr">fr</span>: frenchMessages,
    <span class="hljs-attr">en</span>: englishMessages,
};
<span class="hljs-keyword">const</span> i18nProvider = <span class="hljs-function"><span class="hljs-params">locale</span> =&gt;</span> messages[locale];

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">{resolveBrowserLocale()}</span> <span class="hljs-attr">i18nProvider</span>=<span class="hljs-string">{i18nProvider}</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">Admin</span>&gt;</span></span>
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="翻译-messages"></a><a href="#翻译-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>翻译 Messages</h2>
<p><code>i18nProvider</code> 值返回的 <code>message</code> 应该是一个字典，其中键标界面组件，值是翻译后的字符串。 这个字典是一个简单的 JavaScript 对象，如下所示：</p>
<pre><code class="hljs css languages- jsx">{
    <span class="hljs-attr">ra</span>: {
        <span class="hljs-attr">action</span>: {
            <span class="hljs-attr">delete</span>: <span class="hljs-string">'Delete'</span>,
            <span class="hljs-attr">show</span>: <span class="hljs-string">'Show'</span>,
            <span class="hljs-attr">list</span>: <span class="hljs-string">'List'</span>,
            <span class="hljs-attr">save</span>: <span class="hljs-string">'Save'</span>,
            <span class="hljs-attr">create</span>: <span class="hljs-string">'Create'</span>,
            <span class="hljs-attr">edit</span>: <span class="hljs-string">'Edit'</span>,
            <span class="hljs-attr">cancel</span>: <span class="hljs-string">'Cancel'</span>,
        },
        ...
    },
}
</code></pre>
<p>所有核心翻译都在 <code>ra</code> 命名空间中，以防止与您自己的自定义翻译冲突。 运行时使用的 root key 由 <code>locale</code> 属性的值决定。</p>
<p>可用的默认 <a href="https://github.com/marmelab/react-admin/blob/master/packages/ra-language-english/index.js">messages </a></p>
<h2><a class="anchor" aria-hidden="true" id="翻译-resource-和-field-名称"></a><a href="#翻译-resource-和-field-名称" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>翻译 Resource 和 Field 名称</h2>
<p>默认情况下，React-admin在界面中的任何位置使用 resource 名称（“post”，“comment”等）和 field 名称（“title”，“first_name”等）。 它简单地“人性化”技术标识符，使其看起来更好（例如“first_name”变为“First name”）。</p>
<p>但是，在人性化名称之前，react-admin 会使用以下键检查 <code>messages</code> 字典以查找可能的翻译：</p>
<ul>
<li><code>${locale}.resources.${resourceName}.name</code> 用于资源名称（用于菜单和页面标题）</li>
<li><code>${locale}.resources.${resourceName}.fields.${fieldName}</code>用于字段名称（用于datagrid header和表单输入标签）</li>
</ul>
<p>这使您可以通过使用 <code>resources</code> 键传递 <code>messages</code> 对象来翻译自己的 resource 和 field 名称：</p>
<pre><code class="hljs css languages- jsx">{
    <span class="hljs-attr">resources</span>: {
        <span class="hljs-attr">shoe</span>: {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Shoe |||| Shoes'</span>,
            <span class="hljs-attr">fields</span>: {
                <span class="hljs-attr">model</span>: <span class="hljs-string">'Model'</span>,
                <span class="hljs-attr">stock</span>: <span class="hljs-string">'Nb in stock'</span>,
                <span class="hljs-attr">color</span>: <span class="hljs-string">'Color'</span>,
            },
        },
        <span class="hljs-attr">customer</span>: {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Customer |||| Customers'</span>,
            <span class="hljs-attr">fields</span>: {
                <span class="hljs-attr">first_name</span>: <span class="hljs-string">'First name'</span>,
                <span class="hljs-attr">last_name</span>: <span class="hljs-string">'Last name'</span>,
                <span class="hljs-attr">dob</span>: <span class="hljs-string">'Date of birth'</span>,
            }
        }
    },
    ...
}
</code></pre>
<p>如您所见, <a href="http://airbnb.io/polyglot.js/#pluralization">polyglot pluralization</a> 在这里使用，但它是可选的。</p>
<p>使用 <code>resources</code> 键是在 Field 和 Input 组件中使用 <code>label</code> 属性的替代方法，具有支持翻译的优势。</p>
<h2><a class="anchor" aria-hidden="true" id="混合界面和域翻译"></a><a href="#混合界面和域翻译" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>混合界面和域翻译</h2>
<p>当翻译admin时，界面消息（例如“List”，“Page”等）通常来自第三方软件包，而您的域信息（例如“Shoe”，“Date of birth”等）来自你自己的代码。 这意味着在将这些消息传递到 <code>&lt;Admin&gt;</code> 之前, 您需要合并这些 messages 。 组合消息的方法是使用ES6解构：</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-comment">// interface translations</span>
<span class="hljs-keyword">import</span> englishMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-english'</span>;
<span class="hljs-keyword">import</span> frenchMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'ra-language-french'</span>;

<span class="hljs-comment">// domain translations</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> domainMessages <span class="hljs-keyword">from</span> <span class="hljs-string">'./i18n'</span>;

<span class="hljs-keyword">const</span> messages = {
    <span class="hljs-attr">fr</span>: { ...frenchMessages, ...domainMessages.fr },
    <span class="hljs-attr">en</span>: { ...englishMessages, ...domainMessages.en },
};
<span class="hljs-keyword">const</span> i18nProvider = <span class="hljs-function"><span class="hljs-params">locale</span> =&gt;</span> messages[locale];

<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> <span class="hljs-attr">i18nProvider</span>=<span class="hljs-string">{i18nProvider}</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">Admin</span>&gt;</span></span>
);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="翻译自己的组件"></a><a href="#翻译自己的组件" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>翻译自己的组件</h2>
<p>翻译系统使用React <code>context</code> 在组件树中传递翻译。 要翻译一个句子，请使用上下文中的 <code>translate</code> 函数。 当然，这假设你以前已经将相应的翻译添加到 <code>Admin</code> 组件的<code>messages</code> 属性中。</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-comment">// in src/MyHelloButton.js</span>
<span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">'prop-types'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHelloButton</span> </span>{
    render() {
        <span class="hljs-keyword">const</span> { translate } = <span class="hljs-keyword">this</span>.context;
        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>{translate('myroot.hello.world')}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
    }
}
MyHelloButton.contextTypes = {
    <span class="hljs-attr">translate</span>: PropTypes.func,
};

<span class="hljs-comment">// in src/App.js</span>
<span class="hljs-keyword">const</span> messages = {
    <span class="hljs-attr">en</span>: {
        <span class="hljs-attr">myroot</span>: {
            <span class="hljs-attr">hello</span>: {
                <span class="hljs-attr">world</span>: <span class="hljs-string">'Hello, World!'</span>,
            },
        },
    },
};
</code></pre>
<p>然而，使用上下文使组件更难测试。 这就是为什么 react-admin 提供了一个 <code>translate</code> 高阶组件，它只是将<code>translate</code> 函数从上下文传递给属性：</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-comment">// in src/MyHelloButton.js</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { translate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-admin'</span>;

<span class="hljs-keyword">const</span> MyHelloButton = <span class="hljs-function">(<span class="hljs-params">{ translate }</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>{translate('myroot.hello.world')}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> translate(MyHelloButton);
</code></pre>
<p>**提示&lt;/ strong&gt;：对于您的 message 标识符，请选择与 <code>ra</code> 和 <code>resources</code> 不同的根名称，这些名称是保留的。</p></p>
<p>**提示&lt;/ strong&gt;：请勿对字段和输入标签或页面标题使用<code>translate</code>，因为它们已被翻译：</p></p>
<pre><code class="hljs css languages- jsx"><span class="hljs-comment">// don't do this</span>
&lt;TextField source=<span class="hljs-string">"first_name"</span> label={translate(<span class="hljs-string">'myroot.first_name'</span>)} /&gt;

<span class="hljs-comment">// do this instead</span>
&lt;TextField source=<span class="hljs-string">"first_name"</span> label=<span class="hljs-string">"myroot.first_name"</span> /&gt;

<span class="hljs-comment">// or even better, use the default translation key</span>
&lt;TextField source=<span class="hljs-string">"first_name"</span> /&gt;
<span class="hljs-comment">// and translate the `resources.customers.fields.first_name` key</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="使用特定polyglot-features"></a><a href="#使用特定polyglot-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用特定Polyglot Features</h2>
<p>Polyglot.js是一个很棒的库：除了小，完全维护和完全框架不可知外，它还提供了一些很好的功能，例如插值和复数，可以在 react-admin 中使用。</p>
<pre><code class="hljs css languages- jsx"><span class="hljs-keyword">const</span> messages = {
    <span class="hljs-string">'hello_name'</span>: <span class="hljs-string">'Hello, %{name}'</span>,
    <span class="hljs-string">'count_beer'</span>: <span class="hljs-string">'One beer |||| %{smart_count} beers'</span>,
}

<span class="hljs-comment">// interpolation</span>
translate(<span class="hljs-string">'hello_name'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'John Doe'</span> });
=&gt; <span class="hljs-string">'Hello, John Doe.'</span>

<span class="hljs-comment">// pluralization</span>
translate(<span class="hljs-string">'count_beer'</span>, { <span class="hljs-attr">smart_count</span>: <span class="hljs-number">1</span> });
=&gt; <span class="hljs-string">'One beer'</span>

translate(<span class="hljs-string">'count_beer'</span>, { <span class="hljs-attr">smart_count</span>: <span class="hljs-number">2</span> });
=&gt; <span class="hljs-string">'2 beers'</span>

<span class="hljs-comment">// default value</span>
translate(<span class="hljs-string">'not_yet_translated'</span>, { <span class="hljs-attr">_</span>: <span class="hljs-string">'Default translation'</span> })
=&gt; <span class="hljs-string">'Default translation'</span>
</code></pre>
<p>要查找更详细的示例，请参阅<a href="http://airbnb.io/polyglot.js/"> http://airbnb.io/polyglot.js/ </a></p>
<h2><a class="anchor" aria-hidden="true" id="notifications-with-variables"></a><a href="#notifications-with-variables" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notifications With Variables</h2>
<p>可以使用自定义通知传递多语言插值的变量。 例如：</p>
<pre><code class="hljs css languages- js">showNotification(<span class="hljs-string">'myroot.hello.world'</span>, <span class="hljs-string">'info'</span>, { <span class="hljs-attr">messageArgs</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'Planet Earth'</span> } });
</code></pre>
<p>假设您的自定义消息中包含以下内容：</p>
<pre><code class="hljs css languages- js"><span class="hljs-comment">// in src/App.js</span>
<span class="hljs-keyword">const</span> messages = {
    <span class="hljs-attr">en</span>: {
        <span class="hljs-attr">myroot</span>: {
            <span class="hljs-attr">hello</span>: {
                <span class="hljs-attr">world</span>: <span class="hljs-string">'Hello, %{name}!'</span>,
            },
        },
    },
};
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/actions.html">← 编写 Action</a><a class="docs-next button" href="/docs/zh-CN/custom-app.html">在其它 App 中包含 Admin →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#改变区域设置">改变区域设置</a></li><li><a href="#可用区域设置">可用区域设置</a></li><li><a href="#在运行时更改区域设置">在运行时更改区域设置</a></li><li><a href="#使用浏览器区域设置">使用浏览器区域设置</a></li><li><a href="#翻译-messages">翻译 Messages</a></li><li><a href="#翻译-resource-和-field-名称">翻译 Resource 和 Field 名称</a></li><li><a href="#混合界面和域翻译">混合界面和域翻译</a></li><li><a href="#翻译自己的组件">翻译自己的组件</a></li><li><a href="#使用特定polyglot-features">使用特定Polyglot Features</a></li><li><a href="#notifications-with-variables">Notifications With Variables</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/icon_common.png" alt="React-Admin" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-CN/intro.html">intro</a></div><div><h5>Community</h5><a href="#">Project Chat</a></div><div><h5>More</h5><a class="github-button" href="https://github.com/Kirk-Wang/react-admin.com.git" data-icon="octicon-star" data-count-href="#" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 react-admin.com.</section></footer></div></body></html>